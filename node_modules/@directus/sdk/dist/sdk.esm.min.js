class t{constructor(){this.mode="undefined"==typeof window?"json":"cookie"}}class e{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async readOne(t,e){return(await this.transport.get(`${this.endpoint}/${encodeURI(t)}`,{params:e})).data}async readMany(t,e){var r;const s=null===(r=(await this.transport.get(`/fields/${this.collection}`)).data)||void 0===r?void 0:r.find((t=>!0===t.schema.is_primary_key)),{data:n,meta:a}=await this.transport.get(`${this.endpoint}`,{params:{filter:{[s.field]:{_in:t},...null==e?void 0:e.filter},sort:(null==e?void 0:e.sort)||s.field,...e}});return{data:n,meta:a}}async readByQuery(t){const{data:e,meta:r}=await this.transport.get(`${this.endpoint}`,{params:t});return{data:e,meta:r}}async createOne(t,e){return(await this.transport.post(`${this.endpoint}`,t,{params:e})).data}async createMany(t,e){return await this.transport.post(`${this.endpoint}`,t,{params:e})}async updateOne(t,e,r){return(await this.transport.patch(`${this.endpoint}/${encodeURI(t)}`,e,{params:r})).data}async updateMany(t,e,r){return await this.transport.patch(`${this.endpoint}`,{keys:t,data:e},{params:r})}async updateByQuery(t,e,r){return await this.transport.patch(`${this.endpoint}`,{query:t,data:e},{params:r})}async deleteOne(t){await this.transport.delete(`${this.endpoint}/${encodeURI(t)}`)}async deleteMany(t){await this.transport.delete(`${this.endpoint}`,t)}}class r{constructor(t){this.transport=t}async create(t){return(await this.transport.post("/activity/comment",t)).data}async update(t,e){return(await this.transport.patch(`/activity/comment/${encodeURI(t)}`,{comment:e})).data}async delete(t){await this.transport.delete(`/activity/comment/${encodeURI(t)}`)}}class s extends e{constructor(t){super("directus_activity",t),this._comments=new r(this.transport)}get comments(){return this._comments}}class n{constructor(t){this.transport=t}async readOne(t){return(await this.transport.get(`/collections/${t}`)).data}async readAll(){const{data:t,meta:e}=await this.transport.get("/collections");return{data:t,meta:e}}async createOne(t){return(await this.transport.post("/collections",t)).data}async createMany(t){const{data:e,meta:r}=await this.transport.post("/collections",t);return{data:e,meta:r}}async updateOne(t,e,r){return(await this.transport.patch(`/collections/${t}`,e,{params:r})).data}async deleteOne(t){await this.transport.delete(`/collections/${t}`)}}class a{constructor(t){this.transport=t}async readOne(t,e){return(await this.transport.get(`/fields/${t}/${e}`)).data}async readMany(t){return(await this.transport.get(`/fields/${t}`)).data}async readAll(){return(await this.transport.get("/fields")).data}async createOne(t,e){return(await this.transport.post(`/fields/${t}`,e)).data}async updateOne(t,e,r){return(await this.transport.patch(`/fields/${t}/${e}`,r)).data}async deleteOne(t,e){await this.transport.delete(`/fields/${t}/${e}`)}}class o extends e{constructor(t){super("directus_files",t)}}class i extends e{constructor(t){super("directus_folders",t)}}class u extends e{constructor(t){super("directus_permissions",t)}}class c extends e{constructor(t){super("directus_presets",t)}}class h{constructor(t){this.transport=t}async readOne(t,e){return(await this.transport.get(`/relations/${t}/${e}`)).data}async readMany(t){return(await this.transport.get(`/relations/${t}`)).data}async readAll(){return(await this.transport.get("/relations")).data}async createOne(t){return(await this.transport.post("/relations",t)).data}async updateOne(t,e,r){return(await this.transport.patch(`/relations/${t}/${e}`,{params:r})).data}async deleteOne(t,e){await this.transport.delete(`/relations/${t}/${e}`)}}class l extends e{constructor(t){super("directus_revisions",t)}}class p extends e{constructor(t){super("directus_roles",t)}}class d{constructor(t){this.transport=t}async ping(){return(await this.transport.get("/server/ping")).raw}async info(){return(await this.transport.get("/server/info")).data}}class f{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async read(t){return(await this.transport.get(`${this.endpoint}`,{params:t})).data}async update(t,e){return(await this.transport.patch(`${this.endpoint}`,t,{params:e})).data}}class m extends f{constructor(t){super("directus_settings",t)}}class g{constructor(t){this.transport=t}async send(t,e,r){await this.transport.post("/users/invite",{email:t,role:e,invite_url:r})}async accept(t,e){await this.transport.post("/users/invite/accept",{token:t,password:e})}}class v{constructor(t){this.transport=t}async generate(t){return(await this.transport.post("/users/me/tfa/generate",{password:t})).data}async enable(t,e){await this.transport.post("/users/me/tfa/enable",{secret:t,otp:e})}async disable(t){await this.transport.post("/users/me/tfa/disable",{otp:t})}}class y{constructor(t){this._transport=t}get tfa(){return this._tfa||(this._tfa=new v(this._transport))}async read(t){return(await this._transport.get("/users/me",{params:t})).data}async update(t,e){return(await this._transport.patch("/users/me",t,{params:e})).data}}class w extends e{constructor(t){super("directus_users",t)}get invites(){return this._invites||(this._invites=new g(this.transport))}get me(){return this._me||(this._me=new y(this.transport))}}class _{constructor(t){this.random={string:async(t=32)=>(await this.transport.get("/utils/random/string",{params:{length:t}})).data},this.hash={generate:async t=>(await this.transport.post("/utils/hash/generate",{string:t})).data,verify:async(t,e)=>(await this.transport.post("/utils/hash/verify",{string:t,hash:e})).data},this.transport=t}async sort(t,e,r){await this.transport.post(`/utils/sort/${encodeURI(t)}`,{item:e,to:r})}async revert(t){await this.transport.post(`/utils/revert/${encodeURI(t)}`)}}var b,x;!function(t){t.TOTAL_COUNT="total_count",t.FILTER_COUNT="filter_count"}(b||(b={}));class k{}class R{}class E extends Error{constructor(t,e){var r,s;(null===(r=null==e?void 0:e.errors)||void 0===r?void 0:r.length)?super(null===(s=null==e?void 0:e.errors[0])||void 0===s?void 0:s.message):super((null==t?void 0:t.message)||"Unknown transport error"),this.parent=t,this.response=e,this.errors=(null==e?void 0:e.errors)||[],Object.values(e||{}).some((t=>void 0!==t))||(this.response=void 0),Object.setPrototypeOf(this,E.prototype)}}!function(t){t.AuthToken="auth_token",t.RefreshToken="auth_refresh_token",t.Expires="auth_expires"}(x||(x={}));class O extends k{constructor(t){var e;super(),this.prefix=null!==(e=null==t?void 0:t.prefix)&&void 0!==e?e:""}get auth_token(){return this.get(x.AuthToken)}set auth_token(t){null===t?this.delete(x.AuthToken):this.set(x.AuthToken,t)}get auth_expires(){const t=this.get(x.Expires);return null===t?null:parseInt(t)}set auth_expires(t){null===t?this.delete(x.Expires):this.set(x.Expires,t.toString())}get auth_refresh_token(){return this.get(x.RefreshToken)}set auth_refresh_token(t){null===t?this.delete(x.RefreshToken):this.set(x.RefreshToken,t)}}class S extends O{constructor(){super(...arguments),this.values={}}get(t){const e=this.key(t);return e in this.values?this.values[e]:null}set(t,e){return this.values[this.key(t)]=e,e}delete(t){const e=this.key(t),r=this.get(t);return e in this.values&&delete this.values[e],r}key(t){return`${this.prefix}${t}`}}class T extends O{get(t){const e=localStorage.getItem(this.key(t));return null!==e?e:null}set(t,e){return localStorage.setItem(this.key(t),e),e}delete(t){const e=this.key(t),r=this.get(e);return r&&localStorage.removeItem(e),r}key(t){return`${this.prefix}${t}`}}var $={exports:{}},A=function(t,e){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return t.apply(e,r)}},j=A,q=Object.prototype.toString;function U(t){return"[object Array]"===q.call(t)}function C(t){return void 0===t}function N(t){return null!==t&&"object"==typeof t}function P(t){if("[object Object]"!==q.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function B(t){return"[object Function]"===q.call(t)}function L(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),U(t))for(var r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}var I={isArray:U,isArrayBuffer:function(t){return"[object ArrayBuffer]"===q.call(t)},isBuffer:function(t){return null!==t&&!C(t)&&null!==t.constructor&&!C(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:N,isPlainObject:P,isUndefined:C,isDate:function(t){return"[object Date]"===q.call(t)},isFile:function(t){return"[object File]"===q.call(t)},isBlob:function(t){return"[object Blob]"===q.call(t)},isFunction:B,isStream:function(t){return N(t)&&B(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:L,merge:function t(){var e={};function r(r,s){P(e[s])&&P(r)?e[s]=t(e[s],r):P(r)?e[s]=t({},r):U(r)?e[s]=r.slice():e[s]=r}for(var s=0,n=arguments.length;s<n;s++)L(arguments[s],r);return e},extend:function(t,e,r){return L(e,(function(e,s){t[s]=r&&"function"==typeof e?j(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}},D=I;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var M=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(D.isURLSearchParams(e))s=e.toString();else{var n=[];D.forEach(e,(function(t,e){null!=t&&(D.isArray(t)?e+="[]":t=[t],D.forEach(t,(function(t){D.isDate(t)?t=t.toISOString():D.isObject(t)&&(t=JSON.stringify(t)),n.push(J(e)+"="+J(t))})))})),s=n.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t},F=I;function z(){this.handlers=[]}z.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},z.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},z.prototype.forEach=function(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var H=z,W=I,V=function(t,e,r,s,n){return t.config=e,r&&(t.code=r),t.request=s,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},X=V,K=function(t,e,r,s,n){var a=new Error(t);return X(a,e,r,s,n)},Q=K,G=I,Y=G.isStandardBrowserEnv()?{write:function(t,e,r,s,n,a){var o=[];o.push(t+"="+encodeURIComponent(e)),G.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),G.isString(s)&&o.push("path="+s),G.isString(n)&&o.push("domain="+n),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Z=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},tt=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},et=I,rt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],st=I,nt=st.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(t){var s=t;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=s(window.location.href),function(e){var r=st.isString(e)?s(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function at(t){this.message=t}at.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},at.prototype.__CANCEL__=!0;var ot=at,it=I,ut=function(t,e,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?e(Q("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)},ct=Y,ht=M,lt=function(t,e){return t&&!Z(e)?tt(t,e):e},pt=function(t){var e,r,s,n={};return t?(et.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=et.trim(t.substr(0,s)).toLowerCase(),r=et.trim(t.substr(s+1)),e){if(n[e]&&rt.indexOf(e)>=0)return;n[e]="set-cookie"===e?(n[e]?n[e]:[]).concat([r]):n[e]?n[e]+", "+r:r}})),n):n},dt=nt,ft=K,mt=Et,gt=ot,vt=function(t){return new Promise((function(e,r){var s,n=t.data,a=t.headers,o=t.responseType;function i(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}it.isFormData(n)&&delete a["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(c+":"+h)}var l=lt(t.baseURL,t.url);function p(){if(u){var s="getAllResponseHeaders"in u?pt(u.getAllResponseHeaders()):null,n={data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:s,config:t,request:u};ut((function(t){e(t),i()}),(function(t){r(t),i()}),n),u=null}}if(u.open(t.method.toUpperCase(),ht(l,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(ft("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){r(ft("Network Error",t,null,u)),u=null},u.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",s=t.transitional||mt.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(ft(e,t,s.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},it.isStandardBrowserEnv()){var d=(t.withCredentials||dt(l))&&t.xsrfCookieName?ct.read(t.xsrfCookieName):void 0;d&&(a[t.xsrfHeaderName]=d)}"setRequestHeader"in u&&it.forEach(a,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete a[e]:u.setRequestHeader(e,t)})),it.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&"json"!==o&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(s=function(t){u&&(r(!t||t&&t.type?new gt("canceled"):t),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s))),n||(n=null),u.send(n)}))},yt=I,wt=function(t,e){W.forEach(t,(function(r,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[s])}))},_t=V,bt={"Content-Type":"application/x-www-form-urlencoded"};function xt(t,e){!yt.isUndefined(t)&&yt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var kt,Rt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(kt=vt),kt),transformRequest:[function(t,e){return wt(e,"Accept"),wt(e,"Content-Type"),yt.isFormData(t)||yt.isArrayBuffer(t)||yt.isBuffer(t)||yt.isStream(t)||yt.isFile(t)||yt.isBlob(t)?t:yt.isArrayBufferView(t)?t.buffer:yt.isURLSearchParams(t)?(xt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):yt.isObject(t)||e&&"application/json"===e["Content-Type"]?(xt(e,"application/json"),function(t,e,r){if(yt.isString(t))try{return(e||JSON.parse)(t),yt.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||Rt.transitional,r=e&&e.silentJSONParsing,s=e&&e.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||s&&yt.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw _t(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};yt.forEach(["delete","get","head"],(function(t){Rt.headers[t]={}})),yt.forEach(["post","put","patch"],(function(t){Rt.headers[t]=yt.merge(bt)}));var Et=Rt,Ot=I,St=Et,Tt=function(t){return!(!t||!t.__CANCEL__)},$t=I,At=function(t,e,r){var s=this||St;return Ot.forEach(r,(function(r){t=r.call(s,t,e)})),t},jt=Tt,qt=Et,Ut=ot;function Ct(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ut("canceled")}var Nt=I,Pt=function(t,e){e=e||{};var r={};function s(t,e){return Nt.isPlainObject(t)&&Nt.isPlainObject(e)?Nt.merge(t,e):Nt.isPlainObject(e)?Nt.merge({},e):Nt.isArray(e)?e.slice():e}function n(r){return Nt.isUndefined(e[r])?Nt.isUndefined(t[r])?void 0:s(void 0,t[r]):s(t[r],e[r])}function a(t){if(!Nt.isUndefined(e[t]))return s(void 0,e[t])}function o(r){return Nt.isUndefined(e[r])?Nt.isUndefined(t[r])?void 0:s(void 0,t[r]):s(void 0,e[r])}function i(r){return r in e?s(t[r],e[r]):r in t?s(void 0,t[r]):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i};return Nt.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||n,s=e(t);Nt.isUndefined(s)&&e!==i||(r[t]=s)})),r},Bt="0.24.0",Lt=Bt,It={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){It[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var Dt={};It.transitional=function(t,e,r){function s(t,e){return"[Axios v"+Lt+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,a){if(!1===t)throw new Error(s(n," has been removed"+(e?" in "+e:"")));return e&&!Dt[n]&&(Dt[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,a)}};var Jt={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var s=Object.keys(t),n=s.length;n-- >0;){var a=s[n],o=e[a];if(o){var i=t[a],u=void 0===i||o(i,a,t);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:It},Mt=I,Ft=M,zt=H,Ht=function(t){return Ct(t),t.headers=t.headers||{},t.data=At.call(t,t.data,t.headers,t.transformRequest),t.headers=$t.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),$t.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||qt.adapter)(t).then((function(e){return Ct(t),e.data=At.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return jt(e)||(Ct(t),e&&e.response&&(e.response.data=At.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Wt=Pt,Vt=Jt,Xt=Vt.validators;function Kt(t){this.defaults=t,this.interceptors={request:new zt,response:new zt}}Kt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Wt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&Vt.assertOptions(e,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var n,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!s){var o=[Ht,void 0];for(Array.prototype.unshift.apply(o,r),o=o.concat(a),n=Promise.resolve(t);o.length;)n=n.then(o.shift(),o.shift());return n}for(var i=t;r.length;){var u=r.shift(),c=r.shift();try{i=u(i)}catch(t){c(t);break}}try{n=Ht(i)}catch(t){return Promise.reject(t)}for(;a.length;)n=n.then(a.shift(),a.shift());return n},Kt.prototype.getUri=function(t){return t=Wt(this.defaults,t),Ft(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Mt.forEach(["delete","get","head","options"],(function(t){Kt.prototype[t]=function(e,r){return this.request(Wt(r||{},{method:t,url:e,data:(r||{}).data}))}})),Mt.forEach(["post","put","patch"],(function(t){Kt.prototype[t]=function(e,r,s){return this.request(Wt(s||{},{method:t,url:e,data:r}))}}));var Qt=Kt,Gt=ot;function Yt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,s=r._listeners.length;for(e=0;e<s;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,s=new Promise((function(t){r.subscribe(t),e=t})).then(t);return s.cancel=function(){r.unsubscribe(e)},s},t((function(t){r.reason||(r.reason=new Gt(t),e(r.reason))}))}Yt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Yt.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Yt.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},Yt.source=function(){var t;return{token:new Yt((function(e){t=e})),cancel:t}};var Zt=Yt,te=I,ee=A,re=Qt,se=Pt;var ne=function t(e){var r=new re(e),s=ee(re.prototype.request,r);return te.extend(s,re.prototype,r),te.extend(s,r),s.create=function(r){return t(se(e,r))},s}(Et);ne.Axios=re,ne.Cancel=ot,ne.CancelToken=Zt,ne.isCancel=Tt,ne.VERSION=Bt,ne.all=function(t){return Promise.all(t)},ne.spread=function(t){return function(e){return t.apply(null,e)}},ne.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError},$.exports=ne,$.exports.default=ne;var ae=$.exports;class oe extends R{constructor(t){var e;super(),this.config=t,this.axios=ae.create({baseURL:this.config.url,params:this.config.params,headers:this.config.headers,onUploadProgress:this.config.onUploadProgress,withCredentials:!0}),(null===(e=this.config)||void 0===e?void 0:e.beforeRequest)&&(this.beforeRequest=this.config.beforeRequest)}beforeRequest(t){return t}get url(){return this.config.url}async request(t,e,r,s){var n,a,o,i,u;try{let n={method:t,url:e,data:r,params:null==s?void 0:s.params,headers:null==s?void 0:s.headers,onUploadProgress:null==s?void 0:s.onUploadProgress};n=this.beforeRequest(n);const a=await this.axios.request(n),o={raw:a.data,status:a.status,statusText:a.statusText,headers:a.headers,data:a.data.data,meta:a.data.meta,errors:a.data.errors};if(a.data.errors)throw new E(null,o);return o}catch(t){if(!t||t instanceof Error==!1)throw t;if(ae.isAxiosError(t)){const e=null===(n=t.response)||void 0===n?void 0:n.data;throw new E(t,{raw:null===(a=t.response)||void 0===a?void 0:a.data,status:null===(o=t.response)||void 0===o?void 0:o.status,statusText:null===(i=t.response)||void 0===i?void 0:i.statusText,headers:null===(u=t.response)||void 0===u?void 0:u.headers,data:null==e?void 0:e.data,meta:null==e?void 0:e.meta,errors:null==e?void 0:e.errors})}throw new E(t)}}async get(t,e){return await this.request("get",t,void 0,e)}async head(t,e){return await this.request("head",t,void 0,e)}async options(t,e){return await this.request("options",t,void 0,e)}async delete(t,e,r){return await this.request("delete",t,e,r)}async put(t,e,r){return await this.request("put",t,e,r)}async post(t,e,r){return await this.request("post",t,e,r)}async patch(t,e,r){return await this.request("patch",t,e,r)}}class ie{constructor(t){this.transport=t}async request(t,e){await this.transport.post("/auth/password/request",{email:t,reset_url:e})}async reset(t,e){await this.transport.post("/auth/password/reset",{token:t,password:e})}}class ue extends t{constructor(t){var e,r,s;super(),this.autoRefresh=!0,this.msRefreshBeforeExpires=3e4,this.staticToken="",this.timer=null,this._transport=t.transport,this._storage=t.storage,this.autoRefresh=null!==(e=null==t?void 0:t.autoRefresh)&&void 0!==e?e:this.autoRefresh,this.mode=null!==(r=null==t?void 0:t.mode)&&void 0!==r?r:this.mode,this.msRefreshBeforeExpires=null!==(s=null==t?void 0:t.msRefreshBeforeExpires)&&void 0!==s?s:this.msRefreshBeforeExpires,(null==t?void 0:t.staticToken)?(this.staticToken=null==t?void 0:t.staticToken,this.updateStorage({access_token:this.staticToken,expires:null,refresh_token:null})):this.autoRefresh&&this.autoRefreshJob()}get storage(){return this._storage}get transport(){return this._transport}get token(){return this._storage.auth_token}get password(){return this.passwords=this.passwords||new ie(this._transport)}resetStorage(){this._storage.auth_token=null,this._storage.auth_refresh_token=null,this._storage.auth_expires=null}updateStorage(t){var e,r;this._storage.auth_token=t.access_token,this._storage.auth_refresh_token=null!==(e=t.refresh_token)&&void 0!==e?e:null,this._storage.auth_expires=null!==(r=t.expires)&&void 0!==r?r:null}autoRefreshJob(){if(!this.autoRefresh)return;if(!this._storage.auth_expires)return;this.timer&&clearTimeout(this.timer);const t=this._storage.auth_expires-this.msRefreshBeforeExpires;this.timer=setTimeout((async()=>{await this.refresh().catch((()=>{})),this.autoRefreshJob()}),t)}async refresh(){var t;const e=this._storage.auth_refresh_token;this.resetStorage();const r=await this._transport.post("/auth/refresh",{refresh_token:"json"===this.mode?e:void 0});return this.updateStorage(r.data),this.autoRefresh&&this.autoRefreshJob(),{access_token:r.data.access_token,refresh_token:null===(t=r.data)||void 0===t?void 0:t.refresh_token,expires:r.data.expires}}async login(t){var e;this.resetStorage();const r=await this._transport.post("/auth/login",{mode:this.mode,...t},{headers:{Authorization:null}});return this.updateStorage(r.data),this.autoRefresh&&this.autoRefreshJob(),{access_token:r.data.access_token,refresh_token:null===(e=r.data)||void 0===e?void 0:e.refresh_token,expires:r.data.expires}}async static(t){return await this._transport.get("/users/me",{params:{access_token:t},headers:{Authorization:null}}),this.updateStorage({access_token:t,expires:null,refresh_token:null}),!0}async logout(){let t;"json"===this.mode&&(t=this._storage.auth_refresh_token||void 0),await this._transport.post("/auth/logout",{refresh_token:t}),this.updateStorage({access_token:null,expires:null,refresh_token:null}),clearTimeout(this.timer)}}class ce{constructor(t){this.transport=t}async request(t,e,r){return await this.transport.post(t,{query:e,variables:void 0===r?{}:r})}async items(t,e){return await this.request("/graphql",t,e)}async system(t,e){return await this.request("/graphql/system",t,e)}}class he{constructor(e,r){var s,n,a,o,i,u,c,h,l;if(this._url=e,this._options=r,this._items={},this._singletons={},(null===(s=this._options)||void 0===s?void 0:s.storage)&&(null===(n=this._options)||void 0===n?void 0:n.storage)instanceof k)this._storage=this._options.storage;else{const t=null===(a=this._options)||void 0===a?void 0:a.storage,{mode:e,...r}=null!=t?t:{};"MemoryStorage"===e||"undefined"==typeof window?this._storage=new S(r):this._storage=new T(r)}(null===(o=this._options)||void 0===o?void 0:o.transport)&&(null===(i=this._options)||void 0===i?void 0:i.transport)instanceof R?this._transport=this._options.transport:this._transport=new oe({url:this.url,beforeRequest:t=>{const e=this.storage.auth_token,r=e?e.startsWith("Bearer ")?String(this.storage.auth_token):`Bearer ${this.storage.auth_token}`:"";return{...t,headers:{Authorization:r,...t.headers}}},...null===(u=this._options)||void 0===u?void 0:u.transport}),(null===(c=this._options)||void 0===c?void 0:c.auth)&&(null===(h=this._options)||void 0===h?void 0:h.auth)instanceof t?this._auth=this._options.auth:this._auth=new ue({transport:this._transport,storage:this._storage,...null===(l=this._options)||void 0===l?void 0:l.auth})}get url(){return this._url}get auth(){return this._auth}get storage(){return this._storage}get transport(){return this._transport}get activity(){return this._activity||(this._activity=new s(this.transport))}get collections(){return this._collections||(this._collections=new n(this.transport))}get fields(){return this._fields||(this._fields=new a(this.transport))}get files(){return this._files||(this._files=new o(this.transport))}get folders(){return this._folders||(this._folders=new i(this.transport))}get permissions(){return this._permissions||(this._permissions=new u(this.transport))}get presets(){return this._presets||(this._presets=new c(this.transport))}get relations(){return this._relations||(this._relations=new h(this.transport))}get revisions(){return this._revisions||(this._revisions=new l(this.transport))}get roles(){return this._roles||(this._roles=new p(this.transport))}get users(){return this._users||(this._users=new w(this.transport))}get settings(){return this._settings||(this._settings=new m(this.transport))}get server(){return this._server||(this._server=new d(this.transport))}get utils(){return this._utils||(this._utils=new _(this.transport))}get graphql(){return this._graphql||(this._graphql=new ce(this.transport))}singleton(t){return this._singletons[t]||(this._singletons[t]=new f(t,this.transport))}items(t){return this._items[t]||(this._items[t]=new e(t,this.transport))}}export{s as ActivityHandler,ue as Auth,O as BaseStorage,n as CollectionsHandler,r as CommentsHandler,he as Directus,a as FieldsHandler,o as FilesHandler,i as FoldersHandler,t as IAuth,k as IStorage,R as ITransport,e as ItemsHandler,T as LocalStorage,S as MemoryStorage,b as Meta,u as PermissionsHandler,c as PresetsHandler,h as RelationsHandler,l as RevisionsHandler,p as RolesHandler,d as ServerHandler,m as SettingsHandler,oe as Transport,E as TransportError,w as UsersHandler,_ as UtilsHandler};
//# sourceMappingURL=sdk.esm.min.js.map
